@use 'abstracts' as *;
@use 'base';
@use 'sass:map';

@mixin make-color-utils($name) {
  $prefixes: 'text', 'bg';
  $color-value: map.get($colors, $name);
  $name: if(is-color($name), #{$name}, $name);

  @each $prefix in $prefixes {
    $prop: if($prefix == 'text', 'color', 'background-color');
    @if is-color($color-value) {
      .#{$prefix}-#{$name} {
        #{$prop}: $color-value;
      }
    } @else if is-map($color-value) {
      @each $variant, $value in $color-value {
        .#{$prefix}-#{$name}-#{$variant} {
          #{$prop}: $value;
        }
      }
    }
  }
}

@include make-color-utils(black);
@include make-color-utils(red);
@include make-color-utils(green);
@include make-color-utils(blue);
@include make-color-utils(gray);
